{"version":3,"sources":["guitar-style.module.css","css/recorder.module.css","Reducer.tsx","Instruments.tsx","SideNav.tsx","Visualizers.tsx","MainPage.tsx","instruments/Piano.tsx","img/pan.jpg","instruments/doomphd.tsx","visualizers/Waveform.tsx","visualizers/doomphd.tsx","img/guitar.svg","instruments/haozhanli000.tsx","visualizers/haozhanli000.tsx","img/recorder.png","instruments/Ephillpott.tsx","visualizers/Ephillpott.tsx","img/xylophone.png","instruments/ThienTheCreator.tsx","visualizers/ThienTheCreator.tsx","State.tsx","App.tsx","index.tsx"],"names":["module","exports","DispatchAction","type","args","this","fromJS","appReducer","state","action","console","debug","newState","songs","get","set","notes","find","s","delete","pathname","getIn","search","instrumentName","substring","visualizerName","URLSearchParams","instruments","visualizers","instrument","i","name","visualizer","v","searchValue","error","toJS","update","Instrument","component","TopNav","className","InstrumentContainer","dispatch","InstrumentComponent","useState","Tone","oscillator","toDestination","synth","setSynth","useEffect","eachNote","split","noteObjs","map","note","idx","time","velocity","value","triggerAttackRelease","length","start","cancel","style","top","Section","title","children","RadioButton","to","text","active","onClick","classNames","fw7","Instruments","activeInstrument","location","useLocation","log","Visualizers","activeVisualizer","Searchbar","String","placeholder","onChange","e","target","Songs","List","undefined","filter","song","album","artist","includes","paddingBottom","id","SideNav","Visualizer","draw","VisualizerContainer","analyzer","useMemo","onResize","useCallback","p5","width","window","innerWidth","height","innerHeight","resizeCanvas","volume","connect","disconnect","setup","canvasParentRef","createCanvas","parent","windowResized","InstrumentPanel","VisualizerPanel","InstrumentAndVisualizer","left","ShowWelcome","MainPage","isWelcome","PianoKey","minor","index","onMouseDown","triggerAttack","onMouseUp","triggerRelease","zIndex","marginLeft","PianoType","PianoInstrument","keys","oscillators","Range","octave","key","isMinor","indexOf","o","newType","oldSynth","RecorderNote","styles","line","handleClickRecorderNote","RecorderInstrument","wrapper","alt","src","recorder","draggable","onLoad","envelope","attack","detune","portamento","lineBox","item","WaveformVisualizer","dim","Math","min","background","strokeWeight","stroke","noFill","values","getValue","beginShape","amplitude","x","y","vertex","endShape","trumanWaveVisualizer","floor","translate","t","r","sin","cos","ellipse","rotate","Number","GuitarLine","handleClickGuitarLine","GuitarInstrument","guitarImage","guitarImg","newformVisualizer","pieces","unitHeight","averageWidth","rect","PI","radius","FluteKey","duration","opacity","position","borderRadius","FluteInstrument","display","textAlign","userSelect","testvis","space_between_lines","fill","amp","XylophoneKey","color","setOpacity","onMouseEnter","onMouseLeave","XylophoneInstrument","keypressFunction","event","keyCode","document","addEventListener","removeEventListener","pic","decay","sustain","release","filterEnvelope","baseFrequency","octaves","ThienSpiral","w","angle","rainbow","j","k","point","defaultState","Map","App","useReducer","path","rootEl","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.afa8c0fd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"guitar-style_wrapper__2DBJa\",\"guitarImg\":\"guitar-style_guitarImg__2Mf_g\",\"lineBox\":\"guitar-style_lineBox__3-I_g\",\"line\":\"guitar-style_line__20FLl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"recorder_wrapper__86YRn\",\"recorderImg\":\"recorder_recorderImg__1EAMu\",\"lineBox\":\"recorder_lineBox__287FM\",\"line\":\"recorder_line__1Ql6J\"};","// 3rd party\r\nimport { List, Map, fromJS } from 'immutable';\r\n\r\n// project deps\r\nimport { Instrument } from './Instruments';\r\nimport { Visualizer } from './Visualizers';\r\nimport { AppState } from './State';\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * All user input is handled by DispatchAction.\r\n ** ------------------------------------------------------------------------ */\r\n\r\n/**\r\n * Observation: pure map (compare and contrast with impure map)\r\n *\r\n * 'instrument': Instrument\r\n * 'visualizer': Visualizer\r\n * 'songs': List<string>\r\n * 'notes': List<{id: number, songTitle: string, notes: string}>\r\n */\r\ntype DispatchArgs = {\r\n  [key: string]: any;\r\n};\r\n\r\n// A simple algebraic data-type with string literal types\r\ntype DispatchActionType =\r\n  /*\r\n  | 'SET_SOCKET'\r\n  | 'DELETE_SOCKET' \r\n  */\r\n  | 'SET_SONGS'\r\n  | 'PLAY_SONG'\r\n  | 'STOP_SONG'\r\n  | 'SET_LOCATION'\r\n  | 'SEARCH_SONG';\r\n\r\nexport class DispatchAction {\r\n  readonly type: DispatchActionType;\r\n  readonly args: Map<string, any>;\r\n\r\n  constructor(type: DispatchActionType, args?: DispatchArgs) {\r\n    this.type = type;\r\n    this.args = fromJS(args) as Map<string, any>;\r\n  }\r\n}\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * Top-level application reducer.\r\n ** ------------------------------------------------------------------------ */\r\n\r\nexport function appReducer(state: AppState, action: DispatchAction): AppState {\r\n  const { type, args } = action;\r\n\r\n  console.debug(`${type}`);\r\n\r\n  // Question: Does this function remind of you registering callbacks?\r\n  const newState = (() => {\r\n    switch (type) {\r\n      /*\r\n      case 'SET_SOCKET': {\r\n        const oldSocket = state.get('socket');\r\n        if (oldSocket) {\r\n          oldSocket.close();\r\n        }\r\n\r\n        return state.set('socket', args.get('socket'));\r\n      }\r\n      case 'DELETE_SOCKET': {\r\n        return state.delete('socket');\r\n      }\r\n      */\r\n      case 'SET_SONGS': {\r\n        const songs = args.get('songs');\r\n        return state.set('songs', songs);\r\n      }\r\n      case 'PLAY_SONG': {\r\n        const notes = state\r\n          .get('songs')\r\n          .find((s: any) => s.get('id') === args.get('id'))\r\n          .get('notes');\r\n        return state.set('notes', notes);\r\n      }\r\n      case 'STOP_SONG': {\r\n        return state.delete('notes');\r\n      }\r\n      case 'SET_LOCATION': {\r\n        const pathname = args.getIn(['location', 'pathname'], '') as string;\r\n        const search = args.getIn(['location', 'search'], '') as string;\r\n\r\n        const instrumentName: string = pathname.substring(1);\r\n        const visualizerName: string =\r\n          new URLSearchParams(search.substring(1)).get('visualizer') ?? '';\r\n        const instruments: List<Instrument> = state.get('instruments');\r\n        const visualizers: List<Visualizer> = state.get('visualizers');\r\n\r\n        const instrument = instruments.find(i => i.name === instrumentName);\r\n        const visualizer = visualizers.find(v => v.name === visualizerName);\r\n\r\n        return state\r\n          .set('instrument', instrument)\r\n          .set('visualizer', visualizer);\r\n      }\r\n      case 'SEARCH_SONG':\r\n      {\r\n        const searchValue = args.get('searchValue');\r\n        return state.set('searchValue', searchValue);\r\n      }\r\n      default:\r\n        console.error(`type unknown: ${type}\\n`, args.toJS());\r\n        return state;\r\n    }\r\n  })();\r\n\r\n  console.debug(newState.update('socket', s => (s ? '[socket]' : s)).toJS());\r\n\r\n  return newState;\r\n}\r\n","// 3rd party library imports\r\nimport React, { useState, useEffect } from 'react';\r\nimport * as Tone from 'tone';\r\n\r\n// project imports\r\nimport { DispatchAction } from './Reducer';\r\nimport { AppState } from './State';\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * Contains implementation of an Instruments.\r\n ** ------------------------------------------------------------------------ */\r\n\r\nexport interface InstrumentProps {\r\n  state: AppState;\r\n  dispatch: React.Dispatch<DispatchAction>;\r\n  name: string;\r\n  synth: Tone.Synth;\r\n  setSynth: (f: (oldSynth: Tone.Synth) => Tone.Synth) => void;\r\n}\r\n\r\nexport class Instrument {\r\n  public readonly name: string;\r\n  public readonly component: React.FC<InstrumentProps>;\r\n\r\n  constructor(name: string, component: React.FC<InstrumentProps>) {\r\n    this.name = name;\r\n    this.component = component;\r\n  }\r\n}\r\n\r\nfunction TopNav({ name }: { name: string }) {\r\n  return (\r\n    <div\r\n      className={\r\n        'w-100 h3 bb b--light-gray flex justify-between items-center ph4'\r\n      }\r\n    >\r\n      <div>{name}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface InstrumentContainerProps {\r\n  state: AppState;\r\n  dispatch: React.Dispatch<DispatchAction>;\r\n  instrument: Instrument;\r\n}\r\n\r\nexport const InstrumentContainer: React.FC<InstrumentContainerProps> = ({\r\n  instrument,\r\n  state,\r\n  dispatch,\r\n}: InstrumentContainerProps) => {\r\n  const InstrumentComponent = instrument.component;\r\n  const [synth, setSynth] = useState(\r\n    new Tone.Synth({\r\n      oscillator: { type: 'sine' } as Tone.OmniOscillatorOptions,\r\n    }).toDestination(),\r\n  );\r\n\r\n  const notes = state.get('notes');\r\n\r\n  useEffect(() => {\r\n    if (notes && synth) {\r\n      let eachNote = notes.split(' ');\r\n      let noteObjs = eachNote.map((note: string, idx: number) => ({\r\n        idx,\r\n        time: `+${idx / 4}`,\r\n        note,\r\n        velocity: 1,\r\n      }));\r\n\r\n      new Tone.Part((time, value) => {\r\n        // the value is an object which contains both the note and the velocity\r\n        synth.triggerAttackRelease(value.note, '4n', time, value.velocity);\r\n        if (value.idx === eachNote.length - 1) {\r\n          dispatch(new DispatchAction('STOP_SONG'));\r\n        }\r\n      }, noteObjs).start(0);\r\n\r\n      Tone.Transport.start();\r\n\r\n      return () => {\r\n        Tone.Transport.cancel();\r\n      };\r\n    }\r\n\r\n    return () => {};\r\n  }, [notes, synth, dispatch]);\r\n\r\n  return (\r\n    <div>\r\n      <TopNav name={instrument.name} />\r\n      <div\r\n        className={'bg-white absolute right-0 left-0'}\r\n        style={{ top: '4rem' }}\r\n      >\r\n        <InstrumentComponent\r\n          name={instrument.name}\r\n          state={state}\r\n          dispatch={dispatch}\r\n          synth={synth}\r\n          setSynth={setSynth}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// 3rd party library imports\r\nimport classNames from 'classnames';\r\nimport { List } from 'immutable';\r\nimport React from 'react';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport {\r\n  RadioButton20,\r\n  RadioButtonChecked20,\r\n  Music20,\r\n} from '@carbon/icons-react';\r\n\r\n// project imports\r\nimport { DispatchAction } from './Reducer';\r\nimport { AppState } from './State';\r\nimport { Instrument } from './Instruments';\r\nimport { Visualizer } from './Visualizers';\r\n\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * All the components in the side navigation.\r\n ** ------------------------------------------------------------------------ */\r\n\r\ninterface SideNavProps {\r\n  state: AppState;\r\n  dispatch: React.Dispatch<DispatchAction>;\r\n}\r\n\r\nconst Section: React.FC<{ title: string }> = ({ title, children }) => {\r\n  return (\r\n    <div className=\"flex flex-column h-25 bb b--light-gray pa3\">\r\n      <div className=\"fw7 mb2\">{title} </div>\r\n      <div className=\"flex-auto overflow-scroll\">{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface RadioButtonProps {\r\n  to: any,\r\n  text: string,\r\n  active: boolean,\r\n  onClick: () => void\r\n}\r\n\r\nfunction RadioButton({ to, text, active, onClick }: RadioButtonProps): JSX.Element {\r\n  return (\r\n    <Link to={to} className=\"no-underline\">\r\n      <div\r\n        className={classNames('f6 flex items-center black', { fw7: active })}\r\n        onClick={onClick}\r\n      >\r\n        {active ? (\r\n          <RadioButtonChecked20 className=\"mr1\" />\r\n        ) : (\r\n          <RadioButton20 className=\"mr1\" />\r\n        )}\r\n        <div className=\"dim\">{text}</div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nfunction Instruments({ state }: SideNavProps): JSX.Element {\r\n  const instruments: List<Instrument> = state.get('instruments');\r\n  const activeInstrument = state.get('instrument')?.name;\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <Section title=\"Instruments\">\r\n      {instruments.map(i => (\r\n        <RadioButton\r\n          key={i.name}\r\n          to={`/${i.name}${location.search}`}\r\n          text={i.name}\r\n          active={i.name === activeInstrument}\r\n          onClick={() => console.log(i.name)}\r\n        />\r\n      ))}\r\n    </Section>\r\n  );\r\n}\r\n\r\nfunction Visualizers({ state }: SideNavProps): JSX.Element {\r\n  const visualizers: List<Visualizer> = state.get('visualizers');\r\n  const activeVisualizer = state.get('visualizer')?.name;\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <Section title=\"Visualizers\">\r\n      {visualizers.map(v => (\r\n        <RadioButton\r\n          key={v.name}\r\n          to={{\r\n            pathname: location.pathname,\r\n            search: `?visualizer=${v.name}`,\r\n          }}\r\n          text={v.name}\r\n          active={v.name === activeVisualizer}\r\n          onClick={() => console.log(v.name)}\r\n        />\r\n      ))}\r\n    </Section>\r\n  );\r\n}\r\n\r\nfunction Searchbar({ state, dispatch }: SideNavProps): JSX.Element {\r\n  \r\n  var searchValue: string;\r\n    \r\n  searchValue = state.get('searchValue', String);\r\n  \r\n  function onChange(e: { target: { value: any; }; }){\r\n    dispatch(new DispatchAction('SEARCH_SONG', { searchValue: e.target.value }));  \r\n    searchValue = state.get('searchValue');\r\n  }\r\n\r\n  return (\r\n    <input type=\"text\" placeholder=\"Search..\" value={searchValue} onChange={onChange}></input>\r\n  );\r\n}\r\n\r\nfunction Songs({ state, dispatch }: SideNavProps): JSX.Element {\r\n  const songs: List<any> = state.get('songs', List());\r\n  const searchValue: string = state.get('searchValue') === undefined ? \"\" : state.get('searchValue');\r\n  return (\r\n    <Section title=\"Playlist\">\r\n      {\r\n      songs.filter(song => {\r\n        const title: string = song.get(\"songTitle\");\r\n        const album: string = song.get(\"album\");\r\n        const artist: string = song.get(\"artist\");\r\n\r\n        return title.includes(searchValue) || album.includes(searchValue) || artist.includes(searchValue);\r\n      })\r\n      .map(song => (\r\n        <div\r\n          key={song.get('id')}\r\n          className=\"f6 pointer underline flex items-center no-underline i dim\"\r\n          style={{paddingBottom: \"12px\"}}\r\n          onClick={() =>\r\n            dispatch(new DispatchAction('PLAY_SONG', { id: song.get('id') }))\r\n          }\r\n        >\r\n          <Music20 className=\"mr1\" />\r\n          {song.get('songTitle')} from {song.get('album')} by {song.get('artist')}\r\n        </div>\r\n      ))}\r\n    </Section>\r\n  );\r\n}\r\n\r\nexport function SideNav({ state, dispatch }: SideNavProps): JSX.Element {\r\n  return (\r\n    <div className=\"absolute top-0 left-0 bottom-0 w5 z-1 shadow-1 bg-white flex flex-column\">\r\n      <div className=\"h3 fw7 f5 flex items-center pl3 bb b--light-gray\">\r\n        Music App\r\n      </div>\r\n      <div className=\"flex-auto\">\r\n        <Instruments state={state} dispatch={dispatch} />\r\n        <Visualizers state={state} dispatch={dispatch} />\r\n        <Searchbar state = {state} dispatch = {dispatch} />\r\n        <Songs state={state} dispatch={dispatch} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// 3rd party library imports\r\nimport * as Tone from 'tone';\r\nimport Sketch from 'react-p5';\r\nimport P5 from 'p5';\r\nimport React, { useEffect, useMemo, useCallback } from 'react';\r\n\r\ntype VisualizerDrawer = (p5: P5, analyzer: Tone.Analyser) => void;\r\n\r\ninterface VisualizerContainerProps {\r\n  visualizer: Visualizer;\r\n}\r\n\r\nexport class Visualizer {\r\n  public readonly name: string;\r\n  public readonly draw: VisualizerDrawer;\r\n\r\n  constructor(name: string, draw: VisualizerDrawer) {\r\n    this.name = name;\r\n    this.draw = draw;\r\n  }\r\n}\r\n\r\nexport function VisualizerContainer({ visualizer }: VisualizerContainerProps) {\r\n  const { name, draw } = visualizer;\r\n\r\n  const analyzer: Tone.Analyser = useMemo(\r\n    () => new Tone.Analyser('waveform', 256),\r\n    [],\r\n  );\r\n\r\n  const onResize = useCallback((p5: P5) => {\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight / 2;\r\n\r\n    p5.resizeCanvas(width, height, false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    Tone.getDestination().volume.value = -5;\r\n    Tone.getDestination().connect(analyzer);\r\n    return () => {\r\n      Tone.getDestination().disconnect(analyzer);\r\n    };\r\n  }, [analyzer]);\r\n\r\n  const setup = (p5: P5, canvasParentRef: Element) => {\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight / 2;\r\n    p5.createCanvas(width, height).parent(canvasParentRef);\r\n  };\r\n\r\n  return (\r\n    <div className={'bg-black absolute bottom-0 right-0 left-0 h-50'}>\r\n      <div className={'z-1 absolute left-0 top-0 pa4 white f5'}>{name}</div>\r\n      <Sketch\r\n        setup={setup}\r\n        draw={p5 => draw(p5, analyzer)}\r\n        windowResized={onResize}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","// 3rd party library imports\r\nimport React, { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport * as Tone from 'tone';\r\nimport { Music32 } from '@carbon/icons-react';\r\n\r\n// project imports\r\nimport { InstrumentContainer } from './Instruments';\r\nimport { AppState } from './State';\r\nimport { DispatchAction } from './Reducer';\r\nimport { SideNav } from './SideNav';\r\nimport { VisualizerContainer } from './Visualizers';\r\n\r\ntype PanelProps = {\r\n  state: AppState;\r\n  dispatch: React.Dispatch<DispatchAction>;\r\n};\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * Instrument and visualizer component\r\n ** ------------------------------------------------------------------------ */\r\n\r\nfunction InstrumentPanel({ state, dispatch }: PanelProps): JSX.Element {\r\n  /**\r\n   * This React component is the top-level for the instrument.\r\n   */\r\n  const instrument = state.get('instrument');\r\n\r\n  return (\r\n    <div>\r\n      {instrument && (\r\n        <InstrumentContainer\r\n          state={state}\r\n          dispatch={dispatch}\r\n          instrument={instrument}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction VisualizerPanel({ state, dispatch }: PanelProps): JSX.Element {\r\n  /**\r\n   * This React component is the top-level for the visualizer.\r\n   */\r\n  const visualizer = state.get('visualizer');\r\n\r\n  return (\r\n    <div>\r\n      {visualizer && (\r\n        <VisualizerContainer key={visualizer.name} visualizer={visualizer} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction InstrumentAndVisualizer({ state, dispatch }: PanelProps): JSX.Element {\r\n  /**\r\n   * This React component bundles the instrument panel and visualizer panel together.\r\n   */\r\n\r\n  return (\r\n    <div\r\n      className=\"absolute right-0 bottom-0 top-0 flex flex-column\"\r\n      style={{ left: '16rem' }}\r\n    >\r\n      <InstrumentPanel state={state} dispatch={dispatch} />\r\n      <VisualizerPanel state={state} dispatch={dispatch} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ShowWelcome(): JSX.Element {\r\n  return (\r\n    <div\r\n      className=\"absolute right-0 bottom-0 top-0 flex flex-column items-center justify-center\"\r\n      style={{ left: '16rem' }}\r\n    >\r\n      <div className=\"mw6 lh-copy mb4\">\r\n        <Music32 />\r\n        <div className=\"f3 fw7 mb2\">Welcome to the case study.</div>\r\n        <div className=\"f4 mb3\">\r\n          Select an instrument and a visualizer on the left to serve some fresh\r\n          beats.\r\n        </div>\r\n        <div className=\"f5\">The UI is yours to design. Express yourself.</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * Main page component\r\n ** ------------------------------------------------------------------------ */\r\n\r\nexport function MainPage({ state, dispatch }: PanelProps): JSX.Element {\r\n  /**\r\n   * This React component bundles together the entire main page.\r\n   */\r\n\r\n  const location = useLocation();\r\n  const isWelcome = !state.get('instrument');\r\n  console.log('INSTRUMENT', isWelcome);\r\n\r\n  useEffect(() => {\r\n    dispatch(new DispatchAction('SET_LOCATION', { location }));\r\n  }, [dispatch, location]);\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed top-0 left-0 h-100 w-100 bg-white\"\r\n      onClick={() => Tone.start()}\r\n    >\r\n      <SideNav state={state} dispatch={dispatch} />\r\n      {isWelcome ? (\r\n        <ShowWelcome />\r\n      ) : (\r\n        <InstrumentAndVisualizer state={state} dispatch={dispatch} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","// 3rd party library imports\r\nimport * as Tone from 'tone';\r\nimport classNames from 'classnames';\r\nimport { List, Range } from 'immutable';\r\nimport React from 'react';\r\n\r\n// project imports\r\nimport { Instrument, InstrumentProps } from '../Instruments';\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * Contains implementation of components for Piano.\r\n ** ------------------------------------------------------------------------ */\r\n\r\ninterface PianoKeyProps {\r\n  note: string; // C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B\r\n  duration?: string;\r\n  synth?: Tone.Synth; // Contains library code for making sound\r\n  minor?: boolean; // True if minor key, false if major key\r\n  octave: number;\r\n  index: number; // octave + index together give a location for the piano key\r\n}\r\n\r\nexport function PianoKey({\r\n  note,\r\n  synth,\r\n  minor,\r\n  index,\r\n}: PianoKeyProps): JSX.Element {\r\n  /**\r\n   * This React component corresponds to either a major or minor key in the piano.\r\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\r\n   */\r\n  return (\r\n    // Observations:\r\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\r\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\r\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\r\n    <div\r\n      onMouseDown={() => synth?.triggerAttack(`${note}`)} // Question: what is `onMouseDown`?\r\n      onMouseUp={() => synth?.triggerRelease('+0.25')} // Question: what is `onMouseUp`?\r\n      className={classNames('ba pointer absolute dim', {\r\n        'bg-black black h3': minor, // minor keys are black\r\n        'black bg-white h4': !minor, // major keys are white\r\n      })}\r\n      style={{\r\n        // CSS\r\n        top: 0,\r\n        left: `${index * 2}rem`,\r\n        zIndex: minor ? 1 : 0,\r\n        width: minor ? '1.5rem' : '2rem',\r\n        marginLeft: minor ? '0.25rem' : 0,\r\n      }}\r\n    ></div>\r\n  );\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction PianoKeyWithoutJSX({\r\n  note,\r\n  synth,\r\n  minor,\r\n  index,\r\n}: PianoKeyProps): JSX.Element {\r\n  /**\r\n   * This React component for pedagogical purposes.\r\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\r\n   */\r\n  return React.createElement(\r\n    'div',\r\n    {\r\n      onMouseDown: () => synth?.triggerAttack(`${note}`),\r\n      onMouseUp: () => synth?.triggerRelease('+0.25'),\r\n      className: classNames('ba pointer absolute dim', {\r\n        'bg-black black h3': minor,\r\n        'black bg-white h4': !minor,\r\n      }),\r\n      style: {\r\n        top: 0,\r\n        left: `${index * 2}rem`,\r\n        zIndex: minor ? 1 : 0,\r\n        width: minor ? '1.5rem' : '2rem',\r\n        marginLeft: minor ? '0.25rem' : 0,\r\n      },\r\n    },\r\n    [],\r\n  );\r\n}\r\n\r\nfunction PianoType({ title, onClick, active }: any): JSX.Element {\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className={classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\r\n        'b--black black': active,\r\n        'gray b--light-gray': !active,\r\n      })}\r\n    >\r\n      {title}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Piano({ synth, setSynth }: InstrumentProps): JSX.Element {\r\n  const keys = List([\r\n    { note: 'C', idx: 0 },\r\n    { note: 'Db', idx: 0.5 },\r\n    { note: 'D', idx: 1 },\r\n    { note: 'Eb', idx: 1.5 },\r\n    { note: 'E', idx: 2 },\r\n    { note: 'F', idx: 3 },\r\n    { note: 'Gb', idx: 3.5 },\r\n    { note: 'G', idx: 4 },\r\n    { note: 'Ab', idx: 4.5 },\r\n    { note: 'A', idx: 5 },\r\n    { note: 'Bb', idx: 5.5 },\r\n    { note: 'B', idx: 6 },\r\n  ]);\r\n\r\n  const setOscillator = (newType: Tone.ToneOscillatorType) => {\r\n    setSynth(oldSynth => {\r\n      oldSynth.disconnect();\r\n\r\n      return new Tone.Synth({\r\n        oscillator: { type: newType } as Tone.OmniOscillatorOptions,\r\n      }).toDestination();\r\n    });\r\n  };\r\n\r\n  const oscillators: List<OscillatorType> = List([\r\n    'sine',\r\n    'sawtooth',\r\n    'square',\r\n    'triangle',\r\n    'fmsine',\r\n    'fmsawtooth',\r\n    'fmtriangle',\r\n    'amsine',\r\n    'amsawtooth',\r\n    'amtriangle',\r\n  ]) as List<OscillatorType>;\r\n\r\n  return (\r\n    <div className=\"pv4\">\r\n      <div className=\"relative dib h4 w-100 ml4\">\r\n        {Range(2, 7).map(octave =>\r\n          keys.map(key => {\r\n            const isMinor = key.note.indexOf('b') !== -1;\r\n            const note = `${key.note}${octave}`;\r\n            return (\r\n              <PianoKey\r\n                key={note} //react key\r\n                note={note}\r\n                synth={synth}\r\n                minor={isMinor}\r\n                octave={octave}\r\n                index={(octave - 2) * 7 + key.idx}\r\n              />\r\n            );\r\n          }),\r\n        )}\r\n      </div>\r\n      <div className={'pl4 pt4 flex'}>\r\n        {oscillators.map(o => (\r\n          <PianoType\r\n            key={o}\r\n            title={o}\r\n            onClick={() => setOscillator(o)}\r\n            active={synth?.oscillator?.type === o}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const PianoInstrument = new Instrument('Piano', Piano);\r\n","export default __webpack_public_path__ + \"static/media/pan.ef47b30f.jpg\";","// 3rd party library imports\r\nimport * as Tone from 'tone';\r\nimport classNames from 'classnames';\r\nimport { List, Range } from 'immutable';\r\nimport recorder from '../img/pan.jpg'\r\nimport React from 'react';\r\n//import styles from \"../guitar-style.module.css\";\r\nimport styles from \"../css/recorder.module.css\"\r\n\r\n// project imports\r\nimport { Instrument, InstrumentProps } from '../Instruments';\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * Contains implementation of components for Piano.\r\n ** ------------------------------------------------------------------------ */\r\n\r\n interface RecorderLineProps {\r\n   notes: string[];\r\n   index: number;\r\n   duration?: string;\r\n   synth?: Tone.Synth;\r\n }\r\n \r\n export function RecorderNote({\r\n   index,\r\n   synth,\r\n   notes,\r\n }: RecorderLineProps): JSX.Element {\r\n   const handleClickRecorderNote = (note: string) => {\r\n     synth?.triggerAttackRelease(note, 0.25);\r\n   };\r\n   return (\r\n     <div style={{ top: (index - 1) * 15 + \"px\" }} className={styles.line}>\r\n       {notes.map((note) => {\r\n         return (\r\n           <div onClick={() => handleClickRecorderNote(note)} key={note}></div>\r\n         );\r\n       })}\r\n     </div>\r\n   );\r\n }\r\n\r\n \r\n \r\n function Recorder({ synth, setSynth }: InstrumentProps): JSX.Element {\r\n\r\n  const setMonoSynth = () => {\r\n    setSynth(oldSynth => {\r\n      oldSynth.disconnect();\r\n      const synth: Tone.Synth<Tone.SynthOptions> = new Tone.MonoSynth({\r\n        oscillator: {\r\n          type: \"square\"\r\n        },\r\n        envelope: {\r\n          attack: 0.1\r\n        }\r\n      }).toDestination() as unknown as Tone.Synth<Tone.SynthOptions>;\r\n      synth.set({ detune: -800, portamento: 10});\r\n      return synth;\r\n    })\r\n  }\r\n   const recorderLines: string[][] = [\r\n     [\"C3\", \"D3\", \"E3\",\"F3\", \"G3\", \"A4\",\"B4\", \"C4\", \"D4\",\"E4\", \"F4\", \"A5\",\"B5\"],\r\n     \r\n   ];\r\n \r\n   return (\r\n     <div className={styles.wrapper}>\r\n       <img alt=\"\" src={recorder} draggable=\"false\" onLoad={() => setMonoSynth()} />\r\n       <div className={styles.lineBox}>\r\n         {recorderLines.map((item, index) => (\r\n           <RecorderNote synth={synth} index={index} key={index} notes={item} />\r\n         ))}\r\n       </div>\r\n     </div>\r\n   );\r\n }\r\n \r\n export const RecorderInstrument = new Instrument(\"Panflute\", Recorder);","// 3rd party library imports\r\nimport P5 from 'p5';\r\nimport * as Tone from 'tone';\r\n\r\n// project imports\r\nimport { Visualizer } from '../Visualizers';\r\n\r\n\r\nexport const WaveformVisualizer = new Visualizer(\r\n  'Waveform',\r\n  (p5: P5, analyzer: Tone.Analyser) => {\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight / 2;\r\n    const dim = Math.min(width, height);\r\n\r\n    p5.background(0, 0, 0, 255);\r\n\r\n    p5.strokeWeight(dim * 0.01);\r\n    p5.stroke(255, 255, 255, 255);\r\n    p5.noFill();\r\n\r\n    const values = analyzer.getValue();\r\n    p5.beginShape();\r\n    for (let i = 0; i < values.length; i++) {\r\n      const amplitude = values[i] as number;\r\n      const x = p5.map(i, 0, values.length - 1, 0, width);\r\n      const y = height / 2 + amplitude * height;\r\n      // Place vertex\r\n      p5.vertex(x, y);\r\n    }\r\n    p5.endShape();\r\n  },\r\n);\r\n","// 3rd party library imports\r\nimport { NotSentFilled32 } from '@carbon/icons-react';\r\nimport P5 from 'p5';\r\nimport * as Tone from 'tone';\r\nimport { StereoFeedbackEffect } from 'tone/build/esm/effect/StereoFeedbackEffect';\r\nimport { SideNav } from '../SideNav';\r\n\r\n// project imports\r\nimport { Visualizer } from '../Visualizers';\r\n\r\nvar fft\r\nexport const trumanWaveVisualizer = new Visualizer(\r\n  'Truman Waveform',\r\n  (p5: P5, analyzer: Tone.Analyser) => {\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight / 2;\r\n    const dim = Math.min(width, height);\r\n    const values = analyzer.getValue();\r\n\r\n    p5.background(0, 0, 0, 255);\r\n\r\n    p5.strokeWeight(dim * 0.01);\r\n    p5.stroke(255, 255, 255, 255);\r\n    p5.noFill();\r\n    p5.beginShape()\r\n    for(var i = 0; i < values.length; i++){\r\n      var index = p5.floor(p5.map(i,0,width,0,values.length))\r\n      const amplitude = values[index] as number;\r\n\r\n      var x = p5.map(i, 0, values.length - 1, 0, width);\r\n      var y = amplitude * 300 + height / 2;\r\n      p5.vertex(x,y)\r\n    }\r\n    p5.endShape();\r\n\r\n    p5.translate(width / 2.5, height / 2);\r\n    for(var t = -1; t <= 1; t +=2){\r\n    p5.beginShape()\r\n    for(var i = 0; i <= 180; i++){\r\n      var index = p5.floor(p5.map(i,0,180,0,values.length -1))\r\n      const amplitude = values[index] as number;\r\n\r\n      var r = p5.map(amplitude, -1, 1, 150, 350)\r\n\r\n      var x = r * p5.sin(i) *t\r\n      var y = r * p5.cos(i)\r\n\r\n      p5.vertex(x,y)\r\n  \r\n  }\r\n    p5.endShape()\r\n    }\r\n\r\n\r\n\r\n    p5.ellipse(0, 0, 200);\r\n\r\n    for (let i = 0; i < values.length; i++) {\r\n      p5.rotate(values.length);\r\n      p5.stroke(\"white\");\r\n      p5.line(10, 100, 0, Number(values[i]) * 200);\r\n    }\r\n    \r\n  },\r\n);\r\n","export default __webpack_public_path__ + \"static/media/guitar.f91bea88.svg\";","import * as Tone from \"tone\";\r\n\r\nimport { Instrument, InstrumentProps } from \"../Instruments\";\r\nimport guitarImage from \"../img/guitar.svg\";\r\nimport styles from \"../guitar-style.module.css\";\r\n// import { fromJS } from 'immutable';\r\ninterface GuitarLineProps {\r\n  notes: string[];\r\n  index: number;\r\n  duration?: string;\r\n  synth?: Tone.Synth;\r\n}\r\n\r\nexport function GuitarLine({\r\n  index,\r\n  synth,\r\n  notes,\r\n}: GuitarLineProps): JSX.Element {\r\n  const handleClickGuitarLine = (note: string) => {\r\n    synth?.triggerAttackRelease(note, 0.2);\r\n  };\r\n  return (\r\n    <div style={{ top: (index - 1) * 15 + \"px\" }} className={styles.line}>\r\n      {notes.map((note) => {\r\n        return (\r\n          <div onClick={() => handleClickGuitarLine(note)} key={note}></div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nfunction Guitar({ synth, setSynth }: InstrumentProps): JSX.Element {\r\n  const guitarLines: string[][] = [\r\n    [\"C#5\", \"D#4\", \"A#8\"],\r\n    [\"B6\", \"E2\", \"F7\"],\r\n    [\"A#1\", \"F8\", \"B3\"],\r\n  ];\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <img alt=\"\" src={guitarImage} className={styles.guitarImg} />\r\n      <div className={styles.lineBox}>\r\n        {guitarLines.map((item, index) => (\r\n          <GuitarLine synth={synth} index={index} key={index} notes={item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const GuitarInstrument = new Instrument(\"Guitar\", Guitar);\r\n","import P5 from \"p5\";\r\nimport * as Tone from \"tone\";\r\n\r\nimport { Visualizer } from \"../Visualizers\";\r\n\r\nexport const newformVisualizer = new Visualizer(\r\n  \"newform\",\r\n  (p5: P5, analyzer: Tone.Analyser) => {\r\n  \r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight / 2;\r\n    const values = analyzer.getValue();\r\n\r\n    var pieces = values.length;\r\n    var radius = 200;\r\n    p5.background(230);\r\n\r\n    for (let i = 0; i < values.length; i++) {\r\n      const unitHeight = Math.floor(height);\r\n      const averageWidth = width / values.length;\r\n      const x = i * averageWidth;\r\n      const y = Math.floor(height /4) - unitHeight * Number(values[i]);\r\n      p5.rect(x*2, y + 40, averageWidth, unitHeight * Number(values[i]));\r\n    }\r\n\r\n  \r\n    p5.translate(width / 2.5, height / 1.5);\r\n    p5.stroke(0, 0, 255);\r\n    p5.ellipse(0, 0, radius);\r\n\r\n    for (let i = 0; i < pieces; i++) {\r\n      p5.rotate((Math.PI * 2) / pieces);\r\n      p5.stroke(255, 0, 0);\r\n      p5.line(10, radius / 2, 0, Number(values[i]) * radius);\r\n    }\r\n\r\n   \r\n}\r\n);","export default __webpack_public_path__ + \"static/media/recorder.4bf95249.png\";","// 3rd party library imports\r\nimport * as Tone from 'tone';\r\nimport { List } from 'immutable';\r\n\r\n// project imports\r\nimport { Instrument, InstrumentProps} from '../Instruments';\r\nimport recorder from '../img/recorder.png'\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * Contains implementation of components for Xylophone.\r\n ** ------------------------------------------------------------------------ */\r\n\r\ninterface FluteKeyProps {\r\n  note: string;\r\n  synth?: Tone.Synth; // Contains library code for making sound\r\n  index: number,\r\n  duration?: string,\r\n}\r\n\r\nexport function FluteKey({\r\n  note,\r\n  synth,\r\n  index,\r\n  duration,\r\n}: FluteKeyProps): JSX.Element {\r\n  return (\r\n    <div \r\n      style={{\r\n        height: `10px`, \r\n        width: \"15px\", \r\n        background: `black`, \r\n        opacity: \".3\",\r\n        position: \"absolute\",\r\n        top: `50px`,\r\n        left: `${106+index*40+index/3}px`,\r\n        borderRadius: \"2px\"\r\n      }} \r\n      onClick={() => {\r\n        synth?.triggerAttackRelease(`${note}`,\"8n\");\r\n      }}\r\n    >      \r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Flute({synth, setSynth}: InstrumentProps): JSX.Element {\r\n  \r\n  const setPolySynth = () => {\r\n    setSynth(oldSynth => {\r\n      oldSynth.disconnect();\r\n      const synth: Tone.Synth<Tone.SynthOptions> = new Tone.PolySynth(Tone.Synth, {\r\n        oscillator : {\r\n          type : \"triangle\"\r\n        }\r\n      }).toDestination() as unknown as Tone.Synth<Tone.SynthOptions>;\r\n      synth.set({ detune: -800, portamento: 10});\r\n      return synth;\r\n    })\r\n  }\r\n\r\n  const keys = List([\r\n    { note: \"C4\", index: 0},\r\n    { note: \"D4\", index: 1},\r\n    { note: \"E4\", index: 2},\r\n    { note: \"F4\", index: 3},\r\n    { note: \"G4\", index: 4},\r\n    { note: \"A4\", index: 5},\r\n    { note: \"B4\", index: 6},\r\n  ]);\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", textAlign: \"center\", width: \"640px\", height: \"408px\"}}>\r\n      <div style={{ userSelect: \"none\", position: \"relative\" }}>\r\n        <img src={recorder} alt=\"pic\" draggable=\"false\" onLoad={() => setPolySynth()}/>\r\n        {keys.map(\r\n          key => {\r\n            return (\r\n              <FluteKey\r\n                note={key.note}\r\n                synth={synth}\r\n                index={key.index}\r\n                duration={\"8n\"}\r\n              />\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const FluteInstrument = new Instrument('Flute', Flute);\r\n","import P5 from 'p5';\r\nimport * as Tone from 'tone';\r\n// project imports\r\nimport { Visualizer } from '../Visualizers';\r\n\r\nexport const testvis = new Visualizer(\r\n  'Test Vis',\r\n  (p5: P5, analyzer: Tone.Analyser) => {\r\n    const width = window.innerWidth;\r\n    const space_between_lines = (width/2) / 64\r\n    const height = window.innerHeight / 2;    \r\n    analyzer.type = 'fft';\r\n\r\n    \r\n    const values = analyzer.getValue();    \r\n\r\n    p5.beginShape();\r\n    for (let i = 0; i < values.length; i++) {\r\n        p5.fill(i*3,255,255); //fill(i,255,255);\r\n        let amp = values[i] as number;\r\n        let y = p5.map(amp, 0, 256, height/2, 350);\r\n        p5.rect((width/2) + (i * space_between_lines), y, space_between_lines, height - y);\r\n        p5.rect((width/2) - (i * space_between_lines), y, space_between_lines, height - y);\r\n      }\r\n    p5.endShape();\r\n  },\r\n);","export default __webpack_public_path__ + \"static/media/xylophone.ba1d900b.png\";","// 3rd party library imports\r\nimport * as Tone from 'tone';\r\nimport { List } from 'immutable';\r\n\r\n// project imports\r\nimport { Instrument, InstrumentProps} from '../Instruments';\r\nimport pic from '../img/xylophone.png'\r\nimport { useCallback, useEffect, useState } from 'react';\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * Contains implementation of components for Xylophone.\r\n ** ------------------------------------------------------------------------ */\r\n\r\ninterface XylophoneKeyProps {\r\n  note: string;\r\n  synth?: Tone.Synth; // Contains library code for making sound\r\n  index: number,\r\n  height: number,\r\n  top: number,\r\n  color: string,\r\n}\r\n\r\nexport function XylophoneKey({\r\n  note,\r\n  synth,\r\n  index,\r\n  top,\r\n  height,\r\n  color,\r\n}: XylophoneKeyProps): JSX.Element {\r\n  \r\n  const [opacity, setOpacity] = useState(\".3\");\r\n\r\n  return (\r\n    <div \r\n      style={{\r\n        height: `${height}px`, \r\n        width: \"58px\", \r\n        background: `${color}`, \r\n        opacity: `${opacity}`,\r\n        position: \"absolute\",\r\n        top: `${top}px`,\r\n        left: `${17+index*78+index/3}px`,\r\n        borderRadius: \"18px\"\r\n      }} \r\n      onClick={() => {\r\n        synth?.triggerAttackRelease(`${note}`,\"8n\");\r\n      }}\r\n      onMouseEnter={() => setOpacity(\".5\")}\r\n      onMouseLeave={() => setOpacity(\".3\")}\r\n    >      \r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Xylophone({synth, setSynth}: InstrumentProps): JSX.Element {\r\n  \r\n  const setMonoSynth = () => {\r\n    setSynth(oldSynth => {\r\n    oldSynth.disconnect();\r\n    \r\n    const synth: Tone.Synth<Tone.SynthOptions> = new Tone.MonoSynth({\r\n      oscillator: {\r\n        type: \"square8\"\r\n        },\r\n      envelope: {\r\n        attack: 0.01,\r\n        decay: 1.6,\r\n        sustain: 0,\r\n        release: 1,\r\n      },\r\n      filterEnvelope: {\r\n        attack: 0.01,\r\n        decay: 0.7,\r\n        sustain: 0.1,\r\n        release: 0.8,\r\n        baseFrequency: 300,\r\n        octaves: 2\r\n      }\r\n    }).toDestination() as unknown as Tone.Synth<Tone.SynthOptions>;\r\n    return synth;\r\n    })\r\n  }\r\n\r\n  const keys = List([\r\n    { note: \"C5\", index: 0, top: 11, height: 388, color: \"red\"},\r\n    { note: \"D5\", index: 1, top: 44, height: 356, color: \"orange\"},\r\n    { note: \"E5\", index: 2, top: 76, height: 324, color: \"yellow\"},\r\n    { note: \"F5\", index: 3, top: 98, height: 304, color: \"green\"},\r\n    { note: \"G5\", index: 4, top: 129, height: 272, color: \"cyan\"},\r\n    { note: \"A5\", index: 5, top: 150, height: 252, color: \"blue\"},\r\n    { note: \"B5\", index: 6, top: 172, height: 230, color: \"purple\"},\r\n    { note: \"C6\", index: 7, top: 192, height: 210, color: \"pink\"},\r\n  ]);\r\n  // Press 1-8 keys to play a note\r\n  const keypressFunction = useCallback((event) => {\r\n    switch(event.keyCode){\r\n      case 49:\r\n        synth?.triggerAttackRelease(\"C5\",\"8n\");\r\n        break;\r\n      case 50:\r\n        synth?.triggerAttackRelease(\"D5\",\"8n\");\r\n        break;\r\n      case 51:\r\n        synth?.triggerAttackRelease(\"E5\",\"8n\");\r\n        break; \r\n      case 52:\r\n        synth?.triggerAttackRelease(\"F5\",\"8n\");\r\n        break;\r\n      case 53:\r\n        synth?.triggerAttackRelease(\"G5\",\"8n\");\r\n        break;\r\n      case 54:\r\n        synth?.triggerAttackRelease(\"A5\",\"8n\");\r\n        break;\r\n      case 55:\r\n        synth?.triggerAttackRelease(\"B5\",\"8n\");\r\n        break;\r\n      case 56:\r\n        synth?.triggerAttackRelease(\"C6\",\"8n\");\r\n        break;\r\n      default:\r\n      break;\r\n    }\r\n  }, [synth]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keypressFunction, false);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", keypressFunction, false);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", textAlign: \"center\", width: \"640px\", height: \"408px\"}}>\r\n      <div style={{ userSelect: \"none\", position: \"relative\" }}>\r\n        <img src={pic} alt=\"pic\" draggable=\"false\" onLoad={() => setMonoSynth()}/>\r\n        {keys.map(\r\n          key => {\r\n            return (\r\n              <XylophoneKey\r\n                note={key.note}\r\n                synth={synth}\r\n                index={key.index}\r\n                height={key.height}\r\n                top={key.top}\r\n                color={key.color}\r\n              />\r\n            );\r\n          })\r\n        }\r\n        <input type=\"hidden\"/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const XylophoneInstrument = new Instrument('Thien\\'s Xylophone', Xylophone);\r\n","// 3rd party library imports\r\nimport P5 from 'p5';\r\nimport * as Tone from 'tone';\r\n\r\n// project imports\r\nimport { Visualizer } from '../Visualizers';\r\n\r\n\r\nexport const ThienSpiral = new Visualizer(\r\n  'Thien\\'s Spiral',\r\n  (p5: P5, analyzer: Tone.Analyser) => {\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight / 2;\r\n    const dim = Math.min(width, height);\r\n\r\n    p5.background(0, 0, 0, 255);\r\n\r\n    const values = analyzer.getValue();\r\n    var w = width - 256;\r\n\r\n    var angle = 0;\r\n    var rainbow = [\r\n      [255, 0, 0],\r\n      [255, 127, 0],\r\n      [255, 255, 0],\r\n      [0, 255, 0],\r\n      [0, 0, 255],\r\n      [75, 0, 130],\r\n      [148, 0, 211]\r\n    ];\r\n    var j = 0;\r\n    var k = 0;\r\n\r\n    p5.beginShape();\r\n    for (let i = 0; i < values.length * 2; i++) {\r\n      if (k >= values.length) {\r\n        k = 0;\r\n      }\r\n\r\n      p5.stroke(rainbow[j][0], rainbow[j][1], rainbow[j][2], 150);\r\n\r\n      const amplitude = values[k] as number;\r\n\r\n      var radius = 100 + amplitude * 400;\r\n      var x = w * 3 / 4 + radius * Math.cos(angle);\r\n      var y = height / 2 + radius * Math.sin(angle);\r\n\r\n      j += 1;\r\n      if (j > 6) {\r\n        j = 0;\r\n      }\r\n\r\n      p5.strokeWeight(dim * 0.015);\r\n      p5.point(x, y);\r\n      angle += .0122;\r\n\r\n      if(i < values.length){\r\n        radius = 100 + amplitude * 400;\r\n        x = w / 4 + radius * Math.cos(angle*2);\r\n        y = height / 2 + radius * Math.sin(angle*2);\r\n        p5.point(x, y);\r\n      }      \r\n\r\n      k += 1;\r\n    }\r\n    p5.strokeWeight(dim * 0.015);\r\n    p5.endShape();\r\n  },\r\n);\r\n","// 3rd party\r\nimport { List, Map } from 'immutable';\r\n\r\n// project dependencies\r\nimport { PianoInstrument } from './instruments/Piano';\r\nimport { RecorderInstrument } from './instruments/doomphd';\r\n\r\nimport { WaveformVisualizer } from './visualizers/Waveform';\r\nimport { trumanWaveVisualizer } from './visualizers/doomphd';\r\n\r\nimport { GuitarInstrument } from './instruments/haozhanli000';\r\nimport { newformVisualizer } from './visualizers/haozhanli000';\r\n\r\nimport { FluteInstrument } from './instruments/Ephillpott';\r\nimport { testvis } from './visualizers/Ephillpott';\r\n\r\nimport { XylophoneInstrument } from './instruments/ThienTheCreator';\r\nimport { ThienSpiral } from './visualizers/ThienTheCreator';\r\n\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * The entire application state is stored in AppState.\r\n ** ------------------------------------------------------------------------ */\r\n\r\n/**\r\n * Observation: pure map (compare and contrast with impure map)\r\n *\r\n * 'instrument': Instrument\r\n * 'visualizer': Visualizer\r\n */\r\nexport type AppState = Map<string, any>;\r\n\r\n\r\nconst instruments = List([ XylophoneInstrument, PianoInstrument, RecorderInstrument, GuitarInstrument, FluteInstrument]);\r\nconst visualizers = List([ ThienSpiral, WaveformVisualizer, trumanWaveVisualizer, newformVisualizer, testvis]);\r\nexport const defaultState: AppState = Map<string, any>({\r\n  instruments,\r\n  visualizers\r\n});\r\n","// 3rd party library imports\r\nimport { useReducer, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\n// project imports\r\nimport { MainPage } from './MainPage';\r\nimport { DispatchAction, appReducer } from './Reducer';\r\nimport { defaultState } from './State';\r\n\r\n// css imports\r\nimport 'animate.css';\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * App component\r\n ** ------------------------------------------------------------------------ */\r\n\r\nfunction App() {\r\n  const [state, dispatch] = useReducer(appReducer, defaultState);\r\n\r\n  useEffect(() => {\r\n    const songs = [\r\n      {\r\n        \"id\": 1,\r\n        \"songTitle\": \"Ode to Joy (Dubstep Remix)\",\r\n        \"notes\": \"E4 E4 F4 G4 G4 F4 E4 D4 C4 C4 D4 E4 E4 D4 D4\",\r\n        \"album\": \"\\r\\n\\tSymphony 9\",\r\n        \"artist\": \"Ludwig van Beethoven\"\r\n      },\r\n      {\r\n        \"id\": 2,\r\n        \"songTitle\": \"Sonata No.11\",\r\n        \"notes\": \"G4 G4 G4 B4 E3 E5 E5 E5 D3 C3 B4 B4 B4 F#4 F#4 F#4 E4\",\r\n        \"album\": \"Piano sonata\",\r\n        \"artist\": \"Wolfgang Amadeus Mozart\"\r\n      },\r\n      {\r\n        \"id\": 3,\r\n        \"songTitle\": \"Perfect\",\r\n        \"notes\": \"G3 D4 E4 G4 G3 G4 G3 G3 G3 A4 G4 E3 E3 G4 B4\",\r\n        \"album\": \" (\\\"Divide\\\")\",\r\n        \"artist\": \"Ed Sheeran\"\r\n      },\r\n      {\r\n        \"id\": 4,\r\n        \"songTitle\": \"Canon In D\",\r\n        \"notes\": \"D3 A2 B2 F#2 G2 D2 G2 A2 D3 F#5 A2 E5 B2 D5\",\r\n        \"album\": \"Canon and Gigue for 3 violins and basso continuo\",\r\n        \"artist\": \"Johann Pachelbel\"\r\n      },\r\n      {\r\n        \"id\": 5,\r\n        \"songTitle\": \"My Heart Will Go On\",\r\n        \"notes\": \"F4 G4 G4 D3 A4 G4 F4 G4 C3 C5 A4 F4 D4\",\r\n        \"album\": \"Let's Talk About Love\",\r\n        \"artist\": \"Celine Dion\"\r\n      },\r\n      {\r\n        \"id\": 6,\r\n        \"songTitle\": \"Twinkle Twinkle Little Star\",\r\n        \"notes\": \"C5 C5 G5 G5 A5 A5 G5 F5 F5 E5 E5 D5 D5 C5\",\r\n        \"album\": \"Rhymes for the Nursery\",\r\n        \"artist\": \"Jane Taylor\"\r\n      }\r\n    ]\r\n    dispatch(new DispatchAction('SET_SONGS', { songs }));\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path=\"/\">\r\n          <MainPage state={state} dispatch={dispatch} />\r\n        </Route>\r\n        <Route path=\"/:instrument\">\r\n          <MainPage state={state} dispatch={dispatch} />\r\n        </Route>\r\n        <Route path=\"*\">\r\n          <div>404</div>\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// 3rd party library imports\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\n// project imports\r\nimport App from './App';\r\n\r\n// CSS\r\nimport './index.css';\r\nimport './tachyons.css';\r\n\r\n\r\n/** ------------------------------------------------------------------------ **\r\n * Entry point.\r\n ** ------------------------------------------------------------------------ */\r\n\r\nfunction onReactLoaded() {\r\n  console.log('React has loaded.');\r\n}\r\n\r\nconst rootEl = document.getElementById('root');\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  rootEl,  // Insert into DOM here\r\n  onReactLoaded,\r\n);\r\n"],"sourceRoot":""}